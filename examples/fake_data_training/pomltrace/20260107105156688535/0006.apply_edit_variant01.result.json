{
  "messages": [
    {
      "speaker": "system",
      "content": "Revise the given prompt template using the critique as constraints and improvement guide.\n\n# Revision Rules\n\n1. Rewrite or restructure the prompt if critique implies it.\n2. Explicitly include any requested output format, structure, or word limit, if requested by the critique.\n3. Prioritize mechanism-first phrasing: define what to do, then how to do it.\n4. Preserve placeholder variables inside curly brackets.\n\n# Output Format\n\nReturn only the improved prompt template with placeholders intact. Do not include other explanations on how you did it, or headers and introductory texts."
    },
    {
      "speaker": "human",
      "content": "# Prompt Template\n\nAnswer the following question with only 'yes' or 'no': {question}\n\n# Critique\n\nOverall assessment: the prompt’s intent is simple (give a yes/no), but it’s underspecified and inconsistent with its samples. Revision needed to remove contradictions and define edge cases.\n\n1) Structural issues\n- Missing explicit success metric: samples show \"Yes.\"/\"No.\" but prompt says only 'yes' or 'no' — which is required exactly?\n- Contradiction: quoted tokens vs. sample outputs (capitalization and punctuation).\n- No stop condition for ambiguous or unanswerable questions (should the model ask, refuse, or output something else?).\n- No rule precedence required.\n\n2) Instruction quality\n- Vague on format: case, punctuation, whitespace, newline not specified.\n- No guidance for ambiguous/multi-part questions or questions outside knowledge.\n- Rule set is minimal (single rule) but conflicts with examples.\n\n3) Control and behavior\n- No handling of uncertainty (clarify vs. decline vs. third token).\n- No limits on tool use or retries (if applicable).\n- No guidance about refusals or safety (e.g., illegal/advice questions).\n\n4) Input/output specification\n- Output schema missing (exact token, casing, punctuation).\n- Examples contradict schema.\n- No validation step required before finishing.\n\n5) Scope and safety\n- No error handling for malformed input.\n- No policy for harmful or disallowed requests.\n\n6) Efficiency and maintainability\n- Short but ambiguous; hidden assumptions (language = English, single question).\n- Easy to fix by specifying exact output and edge-case behavior.\n\nTesting-method checklist (brief)\n- Intended outcome: single yes/no answer. (clear)\n- Stop condition: not defined. (incomplete)\n- Conflict resolution: not defined. (incomplete)\n- Explicit limits: none. (incomplete)\n- Output format: ambiguous. (contradictory)\n\nRecommended concise rewrite (example)\n- \"Output exactly one token: yes or no (lowercase, no punctuation, no extra whitespace) answering {question}. If the question is ambiguous, unanswerable, or outside common knowledge, output cannot_answer. Do not add commentary.\"\n\nThis removes contradictions, defines edge cases, and aligns samples with expected output."
    }
  ]
}